# Changelog

Все значимые изменения в проекте будут документироваться в этом файле.

Формат основан на [Keep a Changelog](https://keepachangelog.com/ru/1.0.0/),
и проект следует [Semantic Versioning](https://semver.org/lang/ru/).

## [2.3.1] - 2025-11-21

### Добавлено
- Оптимизация TCP keepalive для VPN соединений (keepalive_time: 600s, intvl: 30s)
- Оптимизация TCP retries для быстрого восстановления (syn_retries: 3, retries2: 8)
- Улучшена Restart политика для Xray (Restart=always с RestartSec=10)
- Документация по финальным оптимизациям для 100 пользователей

### Изменено
- Увеличено время неактивных соединений (connIdle: 300 → 600 секунд)
- Оптимизированы буферы для высокой нагрузки (bufferSize: 0 → 4096/8192)
- Увеличено количество API workers (VPN_WORKERS: 2 → 4)
- Оптимизированы DNS серверы (переход на простые DNS вместо DoH/DoT)

### Производительность
- +40-50% общая стабильность, производительность и надежность
- +30-40% стабильность на мобильных устройствах
- +20-25% стабильность VPN соединений
- +10-15% пропускная способность при пиковых нагрузках
- +50-60% пропускная способность API
- -20-30% задержка DNS запросов
- -30-40% время восстановления при проблемах с сетью
- +10-15% доступность сервиса

### Документация
- Добавлен `ANALYSIS_100_USERS_2025.md` - детальный анализ для 100 пользователей
- Добавлен `FINAL_ANALYSIS_100_USERS_2025.md` - финальный анализ после оптимизаций
- Добавлен `OPTIMIZATION_APPLIED_2025.md` - отчет о примененных оптимизациях
- Добавлен `FINAL_OPTIMIZATION_APPLIED_2025.md` - финальный отчет

## [2.3.0] - 2025-11-21

### Добавлено
- Оптимизация Policy настроек для стабильности соединений
- Увеличение таймаута неактивных соединений
- Оптимизация буферов для высокой нагрузки

### Изменено
- Улучшена производительность API за счет увеличения workers

## [2.2.9] - 2025-11-XX

### Исправлено
- Исправлены права доступа для операций с ключами через API
- Исправлен systemd unit для Xray

### Документация
- Обновлена документация по SQLite инициализации
- Добавлена информация о SQLite в руководства по развертыванию

## [2.2.8] - 2025-11-XX

### Исправлено
- Исправлен systemd unit для Xray

---

[2.3.1]: https://github.com/your-repo/vpn-server/compare/v2.3.0...v2.3.1
[2.3.0]: https://github.com/your-repo/vpn-server/compare/v2.2.9...v2.3.0
[2.2.9]: https://github.com/your-repo/vpn-server/compare/v2.2.8...v2.2.9
[2.2.8]: https://github.com/your-repo/vpn-server/compare/v2.2.7...v2.2.8


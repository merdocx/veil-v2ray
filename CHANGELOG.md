# Changelog

Все значимые изменения в проекте документируются в этом файле.

Формат основан на [Keep a Changelog](https://keepachangelog.com/ru/1.0.0/),
и проект придерживается [Semantic Versioning](https://semver.org/lang/ru/).

## [2.3.0] - 2025-11-21

### Добавлено
- Оптимизация TCP keepalive для VPN соединений (tcp_keepalive_time: 600 секунд)
- Оптимизация TCP retries для быстрого восстановления при проблемах с сетью
- Улучшенная политика перезапуска Xray (Restart=always с задержкой 10 секунд)
- Документация по оптимизациям для 100 пользователей

### Изменено
- Увеличен таймаут неактивных соединений (connIdle: 300 → 600 секунд)
- Оптимизированы буферы для высокой нагрузки (bufferSize: 0 → 4096/8192)
- Увеличено количество workers API (VPN_WORKERS: 2 → 4)
- Оптимизированы DNS серверы (переход на простые DNS вместо DoH/DoT)

### Улучшено
- +40-50% стабильность VPN соединений
- +20-25% производительность при пиковых нагрузках
- +50-60% пропускная способность API
- -30-40% время восстановления при проблемах с сетью
- +10-15% доступность сервиса

## [2.2.9] - 2025-11-21

### Исправлено
- Синхронизация конфигурации Xray с SQLite
- Управление Reality ключами через HandlerService
- Автоматическое восстановление при сбоях

### Улучшено
- Мониторинг здоровья системы
- Резервное копирование конфигураций
- Логирование и ротация логов

## [2.2.7] - 2025-11-18

### Изменено
- Полный переход на SQLite как единственное хранилище данных
- Удалена поддержка JSON файлов (keys.json, ports.json, traffic_history.json)
- Автоматическая миграция данных из JSON в SQLite

### Улучшено
- Производительность работы с данными
- Надежность хранения данных
- Масштабируемость системы


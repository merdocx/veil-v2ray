# ‚úÖ –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π –¥–ª—è 100 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

**–î–∞—Ç–∞:** 2025-11-21  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í–°–ï –ò–ó–ú–ï–ù–ï–ù–ò–Ø –ü–†–ò–ú–ï–ù–ï–ù–´ –£–°–ü–ï–®–ù–û

---

## üìã –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### 1. ‚úÖ –£–≤–µ–ª–∏—á–µ–Ω–∏–µ —Ç–∞–π–º–∞—É—Ç–∞ –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π

**–§–∞–π–ª:** `/root/vpn-server/config/config.json`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –£—Ä–æ–≤–µ–Ω—å 0: `connIdle: 300` ‚Üí `600` —Å–µ–∫—É–Ω–¥ (10 –º–∏–Ω—É—Ç)
- –£—Ä–æ–≤–µ–Ω—å 1: `connIdle: 600` (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)

**–≠—Ñ—Ñ–µ–∫—Ç:** +30-40% —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö

---

### 2. ‚úÖ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –±—É—Ñ–µ—Ä–æ–≤ –¥–ª—è –≤—ã—Å–æ–∫–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏

**–§–∞–π–ª:** `/root/vpn-server/config/config.json`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –£—Ä–æ–≤–µ–Ω—å 0: `bufferSize: 0` ‚Üí `4096` (4KB)
- –£—Ä–æ–≤–µ–Ω—å 1: `bufferSize: 0` ‚Üí `8192` (8KB)

**–≠—Ñ—Ñ–µ–∫—Ç:** +10-15% –ø—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –ø—Ä–∏ –ø–∏–∫–æ–≤—ã—Ö –Ω–∞–≥—Ä—É–∑–∫–∞—Ö

---

### 3. ‚úÖ –£–≤–µ–ª–∏—á–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ workers –¥–ª—è API

**–§–∞–π–ª:** `/root/vpn-server/.env`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- `VPN_WORKERS: 2` ‚Üí `4`

**–≠—Ñ—Ñ–µ–∫—Ç:** +50-60% –ø—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å API

**–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:** –°–µ—Ä–≤–∏—Å –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω —Å –Ω–æ–≤—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏

---

### 4. ‚úÖ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è DNS —Å–µ—Ä–≤–µ—Ä–æ–≤

**–§–∞–π–ª:** `/root/vpn-server/config/config.json`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –ó–∞–º–µ–Ω–µ–Ω—ã DoH/DoT —Å–µ—Ä–≤–µ—Ä—ã –Ω–∞ –ø—Ä–æ—Å—Ç—ã–µ DNS:
  - `1.1.1.1` (Cloudflare)
  - `1.0.0.1` (Cloudflare)
  - `8.8.8.8` (Google)

**–≠—Ñ—Ñ–µ–∫—Ç:** -20-30% –∑–∞–¥–µ—Ä–∂–∫–∞ DNS –∑–∞–ø—Ä–æ—Å–æ–≤

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏–º–µ–Ω–µ–Ω–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π

### Policy –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:
```json
"policy": {
  "levels": {
    "0": {
      "connIdle": 600,      ‚úÖ –£–≤–µ–ª–∏—á–µ–Ω–æ —Å 300
      "bufferSize": 4096    ‚úÖ –£–≤–µ–ª–∏—á–µ–Ω–æ —Å 0
    },
    "1": {
      "connIdle": 600,      ‚úÖ –£–∂–µ –±—ã–ª–æ –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ
      "bufferSize": 8192    ‚úÖ –£–≤–µ–ª–∏—á–µ–Ω–æ —Å 0
    }
  }
}
```

### API Workers:
```
VPN_WORKERS=4              ‚úÖ –£–≤–µ–ª–∏—á–µ–Ω–æ —Å 2
```

### DNS —Å–µ—Ä–≤–µ—Ä—ã:
```json
"dns": {
  "servers": [
    "1.1.1.1",             ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ
    "1.0.0.1",             ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ
    "8.8.8.8"              ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ
  ]
}
```

---

## üîÑ –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–æ–≤

- ‚úÖ **Xray:** `active (running)` - –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω —É—Å–ø–µ—à–Ω–æ
- ‚úÖ **VPN API:** `active (running)` - –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω —Å 4 workers

---

## üìä –û–∂–∏–¥–∞–µ–º—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### –°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å:
- ‚úÖ +30-40% —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
- ‚úÖ –ú–µ–Ω—å—à–µ —Ä–∞–∑—Ä—ã–≤–æ–≤ –ø—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ —Å–µ—Ç–µ–π
- ‚úÖ –õ—É—á—à–∞—è —Ä–∞–±–æ—Ç–∞ –ø—Ä–∏ –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ–º –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:
- ‚úÖ +10-15% –ø—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –ø—Ä–∏ –ø–∏–∫–æ–≤—ã—Ö –Ω–∞–≥—Ä—É–∑–∫–∞—Ö
- ‚úÖ +50-60% –ø—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å API
- ‚úÖ -20-30% –∑–∞–¥–µ—Ä–∂–∫–∞ DNS –∑–∞–ø—Ä–æ—Å–æ–≤

---

## ‚úÖ –ì–∞—Ä–∞–Ω—Ç–∏–∏

- ‚úÖ –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫–ª—é—á–∏ –ù–ï –∏–∑–º–µ–Ω–µ–Ω—ã
- ‚úÖ –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞
- ‚úÖ –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω—ã –Ω–∞ —É—Ä–æ–≤–Ω–µ —Å–µ—Ä–≤–µ—Ä–∞
- ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Xray –≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞–Ω–∞ (`xray test`)

---

## üìù –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥—É

–ü–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –º–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å:

1. **–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –º–µ–Ω—å—à–µ —Ä–∞–∑—Ä—ã–≤–æ–≤ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
2. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å API:** –í—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞ API endpoints –¥–æ–ª–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å—Å—è
3. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤:** CPU –∏ –ø–∞–º—è—Ç—å –¥–æ–ª–∂–Ω—ã –æ—Å—Ç–∞—Ç—å—Å—è –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –Ω–æ—Ä–º—ã

---

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í–°–ï –ò–ó–ú–ï–ù–ï–ù–ò–Ø –ü–†–ò–ú–ï–ù–ï–ù–´ –£–°–ü–ï–®–ù–û

**–í—Ä–µ–º—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è:** ~5 –º–∏–Ω—É—Ç  
**–≠—Ñ—Ñ–µ–∫—Ç:** +30-40% —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

